--åˆ é™¤è¡¨
DROP TABLE SHOPPING_USERS; --1
DROP TABLE SHOPPING_ACCOUNT; --2
DROP TABLE SHOPPING_ORDERS; --3
DROP TABLE SHOPPING_RECIEVER_ADDRESS; --4
DROP TABLE SHOPPING_SHOPPING_BASKET; --5
DROP TABLE SHOPPING_CATE_COMMENT; --6
DROP TABLE SHOPPING_LIKE_EAT; --7
DROP TABLE SHOPPING_CATE_IMAGE; --8
DROP TABLE SHOPPING_CATE; --9
DROP TABLE SHOPPING_CATEGORY; --10
DROP TABLE SHOPPING_FLAVOR_CATEGORY; --11
DROP TABLE SHOPPING_RECHARGE_RECORD; --12
DROP TABLE SHOPPING_CONSUME_RECORD; --13
DROP TABLE SHOPPING_CATE_TRACK; --14
-- Create table
--1ç”¨æˆ·è¡¨ SHOPPING_USERS

SELECT * FROM SHOPPING_USERS WHERE user_name='cy' AND user_password='1234567';

SELECT * FROM SHOPPING_ACCOUNT WHERE user_id=33

create table SHOPPING_USERS
(
  user_id number(10) PRIMARY KEY,
  user_name Varchar2(50) not NULL,
  user_password Varchar2(50) NOT NULL,
  user_phone    NUMBER(11) NOT NULL,
  user_region  VARCHAR2(200),--åœ°åŒº
  user_street_address VARCHAR2(200),--è¡—é“åœ°å€
  user_postcode NUMBER(6), --é‚®ç¼–
  user_email    VARCHAR2(40) NOT NULL

)
select * from SHOPPING_USERS;
INSERT INTO SHOPPING_USERS VALUES(1,'cw','cw123',13554588281,'mhyncw@163.com');
COMMIT;
--create SEQUENCE
--ç”¨æˆ·å· åºåˆ— SEQ_SHOPPING_USERS_USERID
CREATE SEQUENCE SEQ_SHOPPING_USERS_USERID
MINVALUE 1
MAXVALUE 999999999
START WITH 1
INCREMENT BY 1
CACHE 10
ORDER ; 

--create Trigger
--ç”¨æˆ·å· è§¦å‘å™¨ TRI_SHOPPING_USERS_USERID
CREATE OR REPLACE  TRIGGER TRI_SHOPPING_USERS_USERID
       BEFORE INSERT OR UPDATE OF user_id ON SHOPPING_USERS
       FOR EACH ROW
BEGIN 
       SELECT SEQ_SHOPPING_USERS_USERID.Nextval INTO:new.user_id FROM dual;
END;
--2ç”¨æˆ·çš„è´¦æˆ·
CREATE TABLE SHOPPING_ACCOUNT
(
 account_id NUMBER(10) PRIMARY key,
 --client_user_id NUMBER(10)FOREIGN KEY,
 user_id NUMBER(10) REFERENCES SHOPPING_USERS(user_id),
 account_balance NUMBER(10,2),--ä½™é¢
 account_integral NUMBER(10,2)--ç§¯åˆ†
)
SELECT * FROM SHOPPING_ACCOUNT
--create SEQUENCE
--ç”¨æˆ·å· åºåˆ— SEQ_SHOPPING_ACCOUNT_ID
CREATE SEQUENCE SEQ_SHOPPING_ACCOUNT_ID
MINVALUE 1
MAXVALUE 999999999
START WITH 1
INCREMENT BY 1
CACHE 10
ORDER ; 

--create Trigger
--ç”¨æˆ·å· è§¦å‘å™¨ TRI_SHOPPING_ACCOUNT_ID
CREATE OR REPLACE  TRIGGER TRI_SHOPPING_ACCOUNT_ID
       BEFORE INSERT OR UPDATE OF account_id ON SHOPPING_ACCOUNT
       FOR EACH ROW
BEGIN 
       SELECT SEQ_SHOPPING_ACCOUNT_ID.Nextval INTO:new.account_id FROM dual;
END;



--3è®¢å•
select * from SHOPPING_ORDERS
select * from SHOPPING_ORDERS
CREATE TABLE SHOPPING_ORDERS
(
  orders_id NUMBER(10) PRIMARY KEY,
 -- client_user_id NUMBER(10) FOREIGN KEY,
  user_id NUMBER(10) REFERENCES SHOPPING_USERS(user_id),
  reciever_address_id NUMBER(10) REFERENCES  SHOPPING_RECIEVER_ADDRESS(reciever_address_id),
  orders_status VARCHAR2(6),--çŠ¶æ€ï¼ˆå·²æ”¯ä»˜ã€æœªæ”¯ä»˜ï¼‰
  orders_goods_item_count NUMBER(10),--å•†å“æ•°é‡
  orders_goods_amount NUMBER(10,2),--å•†å“æ€»é¢
  orders_mail_charge NUMBER(10,2),--é‚®è´¹
  orders_pay_mode VARCHAR2(200),--æ”¯ä»˜æ¨¡å¼
  orders_date DATE,
  orders_mail_mode VARCHAR2(200),--é‚®é€’æ–¹å¼
  orders_bill varchar2(200)--å‘ç¥¨æŠ¬å¤´
)
<<<<<<< .mine
SELECT * FROM SHOPPING_ORDERS WHERE user_id=33 and orders_status='´ı¸¶¿î'
SELECT * FROM SHOPPING_ORDERS WHERE user_id=33 and orders_status='´ı·¢»õ'
=======
INSERT INTO SHOPPING_ORDERS VALUES(10,33, 9,'å¾…ä»˜æ¬¾', 22, 656.00, 12.00 ,'ç½‘é“¶', to_date('2014/11/6 7:11:54','yyyy/mm/dd hh24;mi;ss'),'å¿«é€’', 5626);
INSERT INTO SHOPPING_ORDERS VALUES(10,33, 9,'å¾…å‘è´§', 63, 966.00, 22.00 ,'ç½‘é“¶', to_date('2014/11/6 2:2:54','yyyy/mm/dd hh24;mi;ss'),'EMS', 5626);
INSERT INTO SHOPPING_ORDERS VALUES(10,33, 9,'å¾…ä»˜æ¬¾', 42, 345.00, 50.00 ,'ç½‘é“¶', to_date('2014/11/6 2:5:54','yyyy/mm/dd hh24;mi;ss'),'å¿«é€’', 5626);
INSERT INTO SHOPPING_ORDERS VALUES(10,33, 9,'å¾…ä»˜æ¬¾', 22, 634.00, 10.00 ,'ç½‘é“¶', to_date('2014/11/6 5:5:54','yyyy/mm/dd hh24;mi;ss'),'EMS', 5626);
INSERT INTO SHOPPING_ORDERS VALUES(10,33, 9,'å¾…å‘è´§', 21, 626.00, 22.00 ,'ç½‘é“¶', to_date('2014/11/6 6:56:54','yyyy/mm/dd hh24;mi;ss'),'å¿«é€’', 5626);
INSERT INTO SHOPPING_ORDERS VALUES(10,33, 9,'å¾…å‘è´§', 65, 132.00, 18.00 ,'ç½‘é“¶', to_date('2014/11/6 4:56:54','yyyy/mm/dd hh24;mi;ss'),'å¿«é€’', 5626);
INSERT INTO SHOPPING_ORDERS VALUES(10,33, 9,'å¾…ä»˜æ¬¾', 23, 123.00, 10.00 ,'ç½‘é“¶', to_date('2014/11/6 6:56:54','yyyy/mm/dd hh24;mi;ss'),'EMS', 5626);
>>>>>>> .r1543

<<<<<<< .mine
SELECT DISTINCT  a.* ,b.* from SHOPPING_ORDERS a,SHOPPING_SHOPPING_BASKET b where a.orders_id=27 and b.user_id=33

INSERT INTO SHOPPING_ORDERS VALUES(10,33, 9,'´ı¸¶¿î', 22, 656.00, 12.00 ,'ÍøÒø', to_date('2014/11/6 7:11:54','yyyy/mm/dd hh24;mi;ss'),'¿ìµİ', 5626);
INSERT INTO SHOPPING_ORDERS VALUES(10,33, 9,'´ı·¢»õ', 63, 966.00, 22.00 ,'ÍøÒø', to_date('2014/11/6 2:2:54','yyyy/mm/dd hh24;mi;ss'),'EMS', 5626);
INSERT INTO SHOPPING_ORDERS VALUES(10,33, 9,'´ı¸¶¿î', 42, 345.00, 50.00 ,'ÍøÒø', to_date('2014/11/6 2:5:54','yyyy/mm/dd hh24;mi;ss'),'¿ìµİ', 5626);
INSERT INTO SHOPPING_ORDERS VALUES(10,33, 9,'´ı¸¶¿î', 22, 634.00, 10.00 ,'ÍøÒø', to_date('2014/11/6 5:5:54','yyyy/mm/dd hh24;mi;ss'),'EMS', 5626);
INSERT INTO SHOPPING_ORDERS VALUES(10,33, 9,'´ı·¢»õ', 21, 626.00, 22.00 ,'ÍøÒø', to_date('2014/11/6 6:56:54','yyyy/mm/dd hh24;mi;ss'),'¿ìµİ', 5626);
INSERT INTO SHOPPING_ORDERS VALUES(10,33, 9,'´ı·¢»õ', 65, 132.00, 18.00 ,'ÍøÒø', to_date('2014/11/6 4:56:54','yyyy/mm/dd hh24;mi;ss'),'¿ìµİ', 5626);
INSERT INTO SHOPPING_ORDERS VALUES(10,33, 9,'´ı¸¶¿î', 23, 123.00, 10.00 ,'ÍøÒø', to_date('2014/11/6 6:56:54','yyyy/mm/dd hh24;mi;ss'),'EMS', 5626);


---×Ô¶¯Ôö³¤Ö÷¼ü  ĞòÁĞ sequences
CREATE SEQUENCE SEQ_SHOPPING_ORDERS_ID
MINVALUE 1
MAXVALUE 999999999
START WITH 1
INCREMENT BY 1
CACHE 10
ORDER ; 
--create Trigger
--ÓÃ»§ºÅ ´¥·¢Æ÷ TRI_SHOPPING_ACCOUNT_ID
CREATE OR REPLACE  TRIGGER TRI_SHOPPING_ORDERS_ID
       BEFORE INSERT OR UPDATE OF orders_id ON SHOPPING_ORDERS
       FOR EACH ROW
BEGIN 
       SELECT SEQ_SHOPPING_ORDERS_ID.Nextval INTO:new.orders_id FROM dual;
END;

select * from SHOPPING_RECIEVER_ADDRESS where reciever_address_id =10
--4ÊÕ»õµØÖ·
=======

---è‡ªåŠ¨å¢é•¿ä¸»é”®  åºåˆ— sequences
CREATE SEQUENCE SEQ_SHOPPING_ORDERS_ID
MINVALUE 1
MAXVALUE 999999999
START WITH 1
INCREMENT BY 1
CACHE 10
ORDER ; 
--create Trigger
--ç”¨æˆ·å· è§¦å‘å™¨ TRI_SHOPPING_ACCOUNT_ID
CREATE OR REPLACE  TRIGGER TRI_SHOPPING_ORDERS_ID
       BEFORE INSERT OR UPDATE OF orders_id ON SHOPPING_ORDERS
       FOR EACH ROW
BEGIN 
       SELECT SEQ_SHOPPING_ORDERS_ID.Nextval INTO:new.orders_id FROM dual;
END;


--4æ”¶è´§åœ°å€
>>>>>>> .r1543
CREATE TABLE SHOPPING_RECIEVER_ADDRESS
( 
  reciever_address_id NUMBER(10)PRIMARY KEY,
  user_id NUMBER(10) REFERENCES SHOPPING_USERS(user_id),
  reciever_address_name VARCHAR2(50) NOT NULL,
  reciever_address_region VARCHAR2(200) NOT NULL,--åœ°åŒº
  reciever_address_address varchar2(200) NOT NULL,--è¡—é“åœ°å€
  reciever_address_postcode NUMBER(6) NOT NULL,--é‚®ç¼–
  reciever_address_phone NUMBER(11) NOT NULL
)

--5è´­ç‰©ç¯®
CREATE TABLE SHOPPING_SHOPPING_BASKET
(
   shopping_basket_id NUMBER(10) PRIMARY KEY,
   user_id number(10), 
   shopping_basket_name VARCHAR2(200),
   shopping_basket_price VARCHAR2(10),
   shopping_basket_image VARCHAR(30),
   shopping_basket_count NUMBER(10)--å•†å“æ•°é‡
)  
--ç”¨æˆ·idä½œä¸ºå¤–é”®
ALTER TABLE SHOPPING_SHOPPING_BASKET 
   ADD CONSTRAINT FK_BASKET_USER_ID FOREIGN KEY(user_id) REFERENCES SHOPPING_USERS(user_id) ON DELETE CASCADE;

---è‡ªåŠ¨å¢é•¿ä¸»é”®  åºåˆ— sequences
DROP SEQUENCE SEQ_shopping_basket_id;

CREATE SEQUENCE SEQ_shopping_basket_id
MINVALUE 1
MAXVALUE 9999999
START WITH 1
INCREMENT BY 1
CACHE 20
ORDER;

--å¢åŠ åºåˆ—ä»¥å å¦‚ä½•å¾€è¡¨ä¸­æ·»åŠ æ•°æ®
TRUNCATE TABLE SHOPPING_SHOPPING_BASKET;

SELECT SEQ_shopping_basket_id.CURRVAL FROM dual;
SELECT SEQ_shopping_basket_id.Nextval FROM dual;


--è§¦å‘å™¨ triggers   è¡¨çº§  è¡Œçº§
-- å½“æ’å…¥ä¸»é”®çš„æ—¶å€™ï¼Œ ä½¿ç”¨åºåˆ—
--åˆ›å»ºè¡Œçº§è§¦å‘å™¨
DROP TRIGGER TRI_shopping_basket_id;

CREATE OR REPLACE TRIGGER TRI_shopping_basket_id
   BEFORE INSERT OR UPDATE OF shopping_basket_id ON SHOPPING_SHOPPING_BASKET
   FOR EACH ROW
BEGIN
  SELECT SEQ_shopping_basket_id.Nextval  INTO:NEW.shopping_basket_id FROM DUAL;
END;
INSERT INTO SHOPPING_USERS   Values(100, null, null,'cxl','123','15965','121321','æ¹–åŒ—',1132,'32@qq.com') ;
INSERT INTO SHOPPING_SHOPPING_BASKET(user_id, shopping_basket_name, shopping_basket_price,shopping_basket_image,shopping_basket_count) 
                                                  VALUES(31, 'äº”é¦™ç‰›è‚‰ç²’120g','ï¿¥22.33', 'wuxiangniurou.png',3);
INSERT INTO SHOPPING_SHOPPING_BASKET(user_id, shopping_basket_name, shopping_basket_price,shopping_basket_image,shopping_basket_count) 
                                                  VALUES(31, 'èœ‚èœœå°ç•ªèŒ„','ï¿¥13.11', 'fengmixiaofanqie.png',1);
INSERT INTO SHOPPING_SHOPPING_BASKET(user_id, shopping_basket_name, shopping_basket_price,shopping_basket_image,shopping_basket_count) 
<<<<<<< .mine
                                                  VALUES(31, 'Ñ¼•H','£¤28.03', 'yatun.png',2);                                                 
=======
                                                  VALUES(31, 'é¸­æ—½','ï¿¥28.03', 'yatun.png',2);
                                                  
>>>>>>> .r1543
INSERT INTO SHOPPING_SHOPPING_BASKET(user_id, shopping_basket_name, shopping_basket_price,shopping_basket_image,shopping_basket_count) 
                                                  VALUES(31, 'é£å‘³é¸­è„–','ï¿¥20.71', 'fengweiyabo.png',3);
INSERT INTO SHOPPING_SHOPPING_BASKET(user_id, shopping_basket_name, shopping_basket_price,shopping_basket_image,shopping_basket_count) 
                                                  VALUES(31, 'å±±æ¤’å‡¤çˆª','ï¿¥17.58', 'shanjiaofengzhuan.png',1);
INSERT INTO SHOPPING_SHOPPING_BASKET(user_id, shopping_basket_name, shopping_basket_price,shopping_basket_image,shopping_basket_count) 
                                                  VALUES(31, 'ç´«ç½²ä»”','ï¿¥6.46', 'zisuzai.png',2);
INSERT INTO SHOPPING_SHOPPING_BASKET(user_id, shopping_basket_name, shopping_basket_price,shopping_basket_image,shopping_basket_count) 
                                                  VALUES(31, 'å°å­©æ ¸ä»','ï¿¥35.91', 'xiaogetaoren.png',2);
                                                  
INSERT INTO SHOPPING_SHOPPING_BASKET(user_id, shopping_basket_name, shopping_basket_price,shopping_basket_image,shopping_basket_count) 
                                                  VALUES(33, 'ÎåÏãÅ£ÈâÁ£120g','£¤22.33', 'wuxiangniurou.png',3);
INSERT INTO SHOPPING_SHOPPING_BASKET(user_id, shopping_basket_name, shopping_basket_price,shopping_basket_image,shopping_basket_count) 
                                                  VALUES(33, '·äÃÛĞ¡·¬ÇÑ','£¤13.11', 'fengmixiaofanqie.png',1);
INSERT INTO SHOPPING_SHOPPING_BASKET(user_id, shopping_basket_name, shopping_basket_price,shopping_basket_image,shopping_basket_count) 
                                                  VALUES(33, 'Ñ¼•H','£¤28.03', 'yatun.png',2);                                                
INSERT INTO SHOPPING_SHOPPING_BASKET(user_id, shopping_basket_name, shopping_basket_price,shopping_basket_image,shopping_basket_count) 
                                                  VALUES(33, '·çÎ¶Ñ¼²±','£¤20.71', 'fengweiyabo.png',3);
INSERT INTO SHOPPING_SHOPPING_BASKET(user_id, shopping_basket_name, shopping_basket_price,shopping_basket_image,shopping_basket_count) 
                                                  VALUES(33, 'É½½··ï×¦','£¤17.58', 'shanjiaofengzhuan.png',1);
INSERT INTO SHOPPING_SHOPPING_BASKET(user_id, shopping_basket_name, shopping_basket_price,shopping_basket_image,shopping_basket_count) 
                                                  VALUES(33, '×ÏÊğ×Ğ','£¤6.46', 'zisuzai.png',2);
INSERT INTO SHOPPING_SHOPPING_BASKET(user_id, shopping_basket_name, shopping_basket_price,shopping_basket_image,shopping_basket_count) 
                                                  VALUES(33, 'Ğ¡º¢ºËÈÊ','£¤35.91', 'xiaogetaoren.png',2); 
                                                
select * from SHOPPING_SHOPPING_BASKET where user_id = 31;  
           
delete from SHOPPING_SHOPPING_BASKET where rowid in
 (select rowid from SHOPPING_SHOPPING_BASKET where rowid not in 
         (select max(rowid) from SHOPPING_SHOPPING_BASKET t group by t.shopping_basket_name))
commit;
--6è¯„è®º
CREATE TABLE SHOPPING_CATE_COMMENT
(
   cate_comment_id NUMBER(10) PRIMARY KEY,
   cate_id NUMBER(10) REFERENCES SHOPPING_CATE(cate_id),
   cate_comment_date DATE,
   cate_user_name Varchar2(50),
   cate_comment_context VARCHAR2(300),--è¯„è®ºå†…å®¹
   cate_star_level  NUMBER(10)--è¯„è®ºæ˜Ÿçº§
)
--è¯„è®ºidåºåˆ—
create sequence seq_SHOPPING_COMMENT_id
increment by 1
start with 101
maxvalue 99999999
minvalue 101

drop sequence seq_SHOPPING_COMMENT_id
--è¯„è®ºè§¦å‘å™¨
create or replace trigger tri_SHOPPING_COMMENT_id
before insert on SHOPPING_CATE_COMMENT
for each row
  begin select seq_SHOPPING_COMMENT_id.nextval into:new.cate_comment_id from dual;
  end;
--æ’å…¥è¯„è®ºæ•°æ®
insert into SHOPPING_CATE_COMMENT values(101,1041,to_date('2014-10-30','yyyy/mm/dd'),'alex','ä¸é”™çš„å®è´',4);
insert into SHOPPING_CATE_COMMENT values(101,1041,to_date('2014/8/30','yyyy-mm-dd'),'toalto','è€æ¿å¾ˆå¥½',3);
insert into SHOPPING_CATE_COMMENT values(101,1041,to_date('2014/8/30','yyyy-mm-dd'),'toalto','è€æ¿å¾ˆå¥½',3);
insert into SHOPPING_CATE_COMMENT values(101,1042,to_date('2014/9/30','yyyy-mm-dd'),'toalto','è€æ¿å¾ˆå¥½',3);
insert into SHOPPING_CATE_COMMENT values(101,1042,to_date('2014/8/30','yyyy-mm-dd'),'britney','å·®è¯„',2);
insert into SHOPPING_CATE_COMMENT values(101,1043,to_date('2014/9/5','yyyy-mm-dd'),'alex','å¥½åƒ',3);
insert into SHOPPING_CATE_COMMENT values(101,1043,to_date('2012/9/30','yyyy-mm-dd'),'toalto','ç•ªèŒ„å¥½ç”œ',5);
insert into SHOPPING_CATE_COMMENT values(101,1044,to_date('2011/9/5','yyyy-mm-dd'),'alex','ç‰›è‚‰ç²’å¾ˆé¦™',3);
insert into SHOPPING_CATE_COMMENT values(101,1044,to_date('2012/9/30','yyyy-mm-dd'),'toalto','ä¸å¥½åƒ',2);
insert into SHOPPING_CATE_COMMENT values(101,1045,to_date('2011/9/5','yyyy-mm-dd'),'alex','ç‰›è‚‰ç²’å¾ˆé¦™',3);
insert into SHOPPING_CATE_COMMENT values(101,1045,to_date('2012/9/30','yyyy-mm-dd'),'toalto','ä¸å¥½åƒ',2);
insert into SHOPPING_CATE_COMMENT values(101,1045,to_date('2012/9/30','yyyy-mm-dd'),'toalto','å¥½åƒ',5);
insert into SHOPPING_CATE_COMMENT values(101,1046,to_date('2011/9/5','yyyy-mm-dd'),'alex','ç‰›è‚‰ç²’å¾ˆé¦™',3);
insert into SHOPPING_CATE_COMMENT values(101,1046,to_date('2012/9/30','yyyy-mm-dd'),'toalto','ä¸å¥½åƒ',2);
insert into SHOPPING_CATE_COMMENT values(101,1046,to_date('2012/9/30','yyyy-mm-dd'),'toalto','å¥½åƒ',5);
insert into SHOPPING_CATE_COMMENT values(101,1047,to_date('2012/9/30','yyyy-mm-dd'),'toalto','ä¸å¥½åƒ',2);
insert into SHOPPING_CATE_COMMENT values(101,1047,to_date('2012/9/30','yyyy-mm-dd'),'toalto','å¥½åƒ',5);
delete from SHOPPING_CATE_COMMENT
drop table SHOPPING_CATE_COMMENT
select * from SHOPPING_CATE_COMMENT
commit;
--7çˆ±åƒ
CREATE TABLE SHOPPING_LIKE_EAT
(
  like_eat_id NUMBER(10) PRIMARY KEY,
  cate_id NUMBER(10) REFERENCES SHOPPING_CATE(cate_id)
)
--8å›¾ç‰‡
CREATE TABLE SHOPPING_CATE_IMAGE
(
  cate_image_id NUMBER(10)PRIMARY KEY,
  cate_id refrences SHOPPING_CATE(cate_id),
  cate_image_path01 VARCHAR2(200), 
  cate_image_path02 VARCHAR2(200),
  cate_image_path03 VARCHAR2(200),
  cate_image_path04 VARCHAR2(200)  
)
--å›¾ç‰‡è¡¨æ’å…¥æ•°æ®
insert into SHOPPING_CATE_IMAGE values(1,'wuxiangniurou.png','meat.jpg','meat.jpg','meat.jpg');
insert into SHOPPING_CATE_IMAGE values(2,'fengmixiaofanqie.png','meat.jpg','meat.jpg','meat.jpg');
insert into SHOPPING_CATE_IMAGE values(3,'shanjiaofengzhuan','meat.jpg','meat.jpg','meat.jpg');
insert into SHOPPING_CATE_IMAGE values(4,'wuxiangniurou.png','meat.jpg','meat.jpg','meat.jpg');
insert into SHOPPING_CATE_IMAGE values(5,'xiaogetaoren.png','meat.jpg','meat.jpg','meat.jpg');
drop table SHOPPING_CATE_IMAGE;
delete from SHOPPING_CATE_IMAGE;
select * from SHOPPING_CATE_IMAGE
update SHOPPING_CATE_IMAGE set cate_image_path01 = 'guazi1.png',cate_image_path02 = 'guazi2.png',cate_image_path03 ='guazi3.png',cate_image_path04 ='guazi4.png' where cate_image_id = 3

commit;

--9å•†å“
CREATE TABLE SHOPPING_CATE
(
    cate_id NUMBER(10) PRIMARY KEY,
    cate_name VARCHAR2(200) ,
    cate_inventory NUMBER(10),--åº“å­˜
    cate_sale_count NUMBER(10),--é”€å”®æ•°é‡
    cate_description VARCHAR2(200),--ç¾é£Ÿæè¿°
    cate_oldprice NUMBER (10,2),
    cate_price NUMBER(10,2),
    cate_image_id NUMBER(10) REFERENCES  SHOPPING_CATE_IMAGE(cate_image_id),--ç¾é£Ÿå›¾ç‰‡
    category_id NUMBER(10) REFERENCES SHOPPING_CATEGORY(category_id),--ç¾é£Ÿç§ç±»
    flavor_category_id NUMBER(10)REFERENCES SHOPPING_FLAVOR_CATEGORY(flavor_category_id) ,--ç¾é£Ÿå£å‘³ç§ç±»
    cate_sale_info VARCHAR2(200) --ç¾é£Ÿä¿ƒé”€ä¿¡æ¯
)

--é£Ÿå“idåºåˆ—
create sequence seq_SHOPPING_CATE_id
increment by 1
start with 1001
maxvalue 99999999
minvalue 1001

--é£Ÿå“è§¦å‘å™¨
create or replace trigger tri_SHOPPING_CATE_id
before insert on SHOPPING_CATE
for each row
  begin select seq_SHOPPING_CATE_id.nextval into:new.cate_id from dual;
  end;

--å•†å“è¡¨æ’å…¥æ•°æ®

insert into SHOPPING_CATE values(1001,'ç²’ç²’é¦™ç‰›è‚‰ç²’120g',100,10,'è‚‰è´¨é²œå«© å£æ„Ÿå¾®è¾£',13.20,10,5,1,1,'æ‰‹æœºä¸“äº«ä»·');
insert into SHOPPING_CATE values(1002,'èœ‚èœœå°ç•ªèŒ„',10,5,'èœ‚èœœæ¸…é¦™ è¥å…»ç¾å‘³',13.20,5,2,1,1,'ä¼šå‘˜ä¸“äº«ä»·');
insert into SHOPPING_CATE values(1003,'é¸­æ—½',80,15,'è‚‰è´¨é²œå«© å£æ„Ÿå¾®è¾£',13.20,15,3,1,1,'æ‰‹æœºä¸“äº«ä»·');
insert into SHOPPING_CATE values(1003,'é£å‘³é¸­è„–',100,7,'è‚‰è´¨é²œå«© å£æ„Ÿå¾®è¾£',13.20,7,4,1,1,'æ·˜å®ä¸“äº«ä»·');
insert into SHOPPING_CATE values(1003,'å±±æ¤’å‡¤çˆª',100,20,'è‚‰è´¨é²œå«© å£æ„Ÿå¾®è¾£',13.20,20,2,1,1,'ä¼šå‘˜ä¸“äº«ä»·');
insert into SHOPPING_CATE values(1003,'ç´«ç½²ä»”',100,35,'è‚‰è´¨é²œå«© å£æ„Ÿå¾®è¾£',13.20,35,1,1,1,'æ·˜å®ä¸“äº«ä»·');
insert into SHOPPING_CATE values(1003,'å°å­©æ ¸ä»',100,13,'è‚‰è´¨é²œå«© å£æ„Ÿå¾®è¾£',13.20,13,4,1,1,'æ·˜å®ä¸“äº«ä»·');
commit;

update SHOPPING_CATE set cate_sale_count = 1100 where cate_id = 1043 

drop table SHOPPING_CATE

select * from SHOPPING_CATE

delete from SHOPPING_CATE

select t1.*,t2.*  from SHOPPING_CATE t1,SHOPPING_CATE_IMAGE t2  where t1.cate_image_id= t2.cate_image_id and t1.cate_id = 1041
select t1.*,t2.*  from SHOPPING_CATE t1,SHOPPING_CATE_IMAGE t2  where t1.cate_image_id= t2.cate_image_id and t1.cate_id = 1041
--10å•†å“ç§ç±»
CREATE TABLE SHOPPING_CATEGORY
(
     category_id NUMBER(10) PRIMARY KEY,
     category_name VARCHAR2(200)NOT NULL,
     category_image VARCHAR2(200) NOT NULL, 
     category_description VARCHAR2(200) NOT NULL
)
--å•†å“ç§ç±»è¡¨æ’å…¥æ•°æ®
insert into SHOPPING_CATEGORY values(1,'è‚‰ç±»å³é£Ÿ','meat.jpg','ç‰›è‚‰ çŒªè‚‰');
commit;
drop table SHOPPING_CATEGORY
--11å•†å“å£å‘³ç§ç±»
CREATE TABLE SHOPPING_FLAVOR_CATEGORY
(
  flavor_category_id NUMBER(10)PRIMARY KEY,
  flavor_category_name VARCHAR2(200)NOT NULL,
  flavor_category_image VARCHAR2(200)NOT NULL,
  flavor_category_description VARCHAR2(200) NOT NULL   
)
--å•†å“å£å‘³ç§ç±»è¡¨æ’å…¥æ•°æ®
insert into SHOPPING_FLAVOR_CATEGORY values(1,'å’¸å‘³','meat.jpg','å’¸å‘³ æ¤’ç›');
commit;
drop table SHOPPING_FLAVOR_CATEGORY;

--12å……å€¼è®°å½•
CREATE TABLE SHOPPING_RECHARGE_RECORD
(
     recharge_record_id NUMBER(10)PRIMARY KEY,
     recharge_record_date DATE 

)
--13æ¶ˆè´¹è®°å½•
CREATE TABLE SHOPPING_CONSUME_RECORD
(
   consume_record_id NUMBER(10)PRIMARY KEY,
   consume_record_date DATE
)
--14ç¾å‘³è¶³è¿¹
CREATE TABLE SHOPPING_CATE_TRACK
(
   cate_track_id NUMBER(10)PRIMARY KEY,
   cate_id NUMBER(10) REFERENCES SHOPPING_CATE(cate_id)
)

--15ç®¡ç†å‘˜
create table shopping_manager 
(
  manager_id number(10) primary key,
  manager_name varchar2(50) not null,
  manager_password varchar2(50) not null,
  manager-right_id number(10) references shopping_manager_right(manager_right_id)
)

--16ç®¡ç†å‘˜æƒé™
create table shopping_manager_right
(
  manager_right_id number(10) primary key,
  manager_right_name varchar2(50) not null,
  manager_right_description varchar2(200)
)




